<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>5个经典的JavaScript面试题</title>
    <meta name="description" content="">
    <!--<link rel="stylesheet" href="/assets/css/bootstrap.min.css">-->
    <!--<link rel="stylesheet" href="/assets/css/font-awesome.min.css">-->
    <link rel="icon" type="image/png" href="/favicon.ico">
    <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://fonts.useso.com/css?family=Roboto">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/syntax-highlight.css">
    
    <link rel="stylesheet" href="/assets/css/proj-layout.css">
    <script src="/assets/js/swiftype.js"></script>
    <!--<script src="/assets/js/jquery.js"></script>-->
    <!--<script src="/assets/js/modernizr.min.js"></script>-->
    <!--<script src="/assets/js/bootstrap.min.js"></script>-->
</head>

<body>
    <header>
    <nav class="navbar navbar-default" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <p class="site-name"><a class="navbar-brand" href="/" title="twolun">双轮行</a></p>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="/">HOME</a></li>
                    <li><a href="/about.html">About</a></li>
                    <li><a href="/project.html">Projects</a></li>
                    <li><a href="/list.html">Posts</a></li>
                    <li><a href="http://wwsun.lofter.com/" target="_blank">Lofter</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- .site-navigation -->
</header>
    <div id="post-content" class="container">
        <br>
        <div class="well">
            <header class="page-header">
                <h1>5个经典的JavaScript面试题</h1>
                <p class="post-meta">Apr 18, 2015</p>
            </header>
            <article><p>JavaScript是一门有意思的语言，入门很快，但是想要深入的理解却并不简单，比如JavaScript中的原型、面向对象。对当前的Web世界而言，JavaScript是一门你必须精通的语言，因此本文借用一些面试题来回顾一下JavaScript中的典型知识点。</p>

<!--more-->

<h2 id="section">面试题</h2>

<h3 id="section-1">1. 变量范围</h3>

<p>以下代码的输出结果为：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>(function() {
   var a = b = 5;
})();
 
console.log(b); //5
console.log(a); //Error, a is not defined
</code></pre>
</div>

<p>解答：</p>

<p>在这个立即执行函数表达式（IIFE）中包括两个赋值操作，其中<code class="highlighter-rouge">a</code>使用<code class="highlighter-rouge">var</code>关键字进行声明，因此其属于函数内部的局部变量（仅存在于函数中），相反，<code class="highlighter-rouge">b</code>被分配到全局命名空间。</p>

<p>另一个需要注意的是，这里没有在函数内部使用<a href="http://cjihrig.com/blog/javascripts-strict-mode-and-why-you-should-use-it/">严格模式</a>(<code class="highlighter-rouge">use strict</code>;)。如果启用了严格模式，代码会在输出b时报错<code class="highlighter-rouge">Uncaught ReferenceError: b is not defined</code>,需要记住的是，严格模式要求你显式的引用全局作用域。因此，你需要写成：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>(function() {
   'use strict';
   var a = window.b = 5;
})();
 
console.log(b);
</code></pre>
</div>

<h3 id="native">2. 创建“native”方法</h3>

<p>在<code class="highlighter-rouge">String</code>对象上定义一个<code class="highlighter-rouge">repeatify</code>方法。该方法接收一个整数作为参数用于指定字符串的重复次数。例如：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>console.log('hello'.repeatify(3)); // hellohellohello
</code></pre>
</div>

<p>解答：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>String.prototype.repeatify = String.prototype.repeatify || function(times) {
   var str = '';
 
   for (var i = 0; i &lt; times; i++) {
      str += this;
   }
 
   return str;
};
</code></pre>
</div>

<p>这个题目主要测试你对JavaScript中的继承和<code class="highlighter-rouge">prototype</code>属性的理解。另一个值得关注的点是，在定义该方法前你需要确定该对象中是否已存在你要定义的同名方法。通常，我们使用如下的方式：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>String.prototype.repeatify = String.prototype.repeatify || function(times) {/* code here */};
</code></pre>
</div>

<h3 id="hoisting">3. 提升 Hoisting</h3>

<p>以下代码的执行结果为：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>function test() {
   console.log(a);     // undefined
   console.log(foo()); // 2
    
   var a = 1;
   function foo() {
      return 2;
   }
}
 
test();
</code></pre>
</div>

<p>回答：</p>

<p>执行结果分别为<code class="highlighter-rouge">undefined</code>和<code class="highlighter-rouge">2</code>。</p>

<p>在JavaScript中，变量和命名函数都会被提升到函数的顶端，但是对变量而言其初始化操作不会被提升。因此，当打印<code class="highlighter-rouge">a</code>的值时，它虽然存在于函数<code class="highlighter-rouge">test()</code>中，但其值此刻为<code class="highlighter-rouge">undefined</code>，即未被初始化。也就是说，上面的代码会被转换成：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>function test() {
   var a;
   function foo() {
      return 2;
   }
 
   console.log(a);
   console.log(foo());
    
   a = 1;
}
 
test();
</code></pre>
</div>

<h3 id="thisjavascript">4. <code class="highlighter-rouge">this</code>在JavaScript中是如何工作的</h3>

<p>下面代码的执行结果为：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var fullname = 'John Doe';
var obj = {
   fullname: 'Colin Ihrig',
   prop: {
      fullname: 'Aurelio De Rosa',
      getFullname: function() {
         return this.fullname;
      }
   }
};
 
console.log(obj.prop.getFullname()); // Aurelio De Rosa
 
var test = obj.prop.getFullname;
 
console.log(test());  // John Doe
</code></pre>
</div>

<p>解答：</p>

<p>上面的代码打印结果依次为<code class="highlighter-rouge">Aurelio De Rosa</code>和<code class="highlighter-rouge">John Doe</code>。 原因在于<code class="highlighter-rouge">this</code>指向的是函数的执行环境，<code class="highlighter-rouge">this</code>取决于其被谁调用了，而不是被谁定义了。</p>

<p>对第一个<code class="highlighter-rouge">console.log()</code>语句而言，<code class="highlighter-rouge">getFullName()</code>是作为<code class="highlighter-rouge">obj.prop</code>对象的一个方法被调用的，因此此时的执行环境应该是这个对象。另一方面，但<code class="highlighter-rouge">getFullName()</code>被分配给<code class="highlighter-rouge">test</code>变量时，此时的执行环境变成全局对象（<code class="highlighter-rouge">window</code>），原因是<code class="highlighter-rouge">test</code>是在全局作用域中定义的。因此，此时的<code class="highlighter-rouge">this</code>指向的是全局作用域的<code class="highlighter-rouge">fullname</code>变量，即<code class="highlighter-rouge">John Doe</code>。</p>

<h3 id="callapply">5. <code class="highlighter-rouge">call()</code>和<code class="highlighter-rouge">apply()</code></h3>

<p>修正题目4中存在的问题，使得最后一个<code class="highlighter-rouge">console.log()</code>打印出<code class="highlighter-rouge">Aurelio De Rosa</code>。</p>

<p>解答：</p>

<p>可以使用<code class="highlighter-rouge">call()</code>或者<code class="highlighter-rouge">apply()</code>强制切换执行环境，如果你不知道这两者的区别，可以参考<a href="http://www.sitepoint.com/whats-the-difference-between-function-call-and-function-apply/">这篇文章</a>。如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>console.log(test.call(obj.prop)); // 这里使用apply()也是一样的
</code></pre>
</div>

<h2 id="javascript">JavaScript学习建议</h2>

<h3 id="section-2">阅读列表</h3>

<p>无论是jQuery，还是当前热门的AngularJS和ReactJS，都离不开扎实的JavaScript的基础。2015年有很多值得你学习的JavaScript知识，如ECMAScript6, TypeScript等等，但这一切之前，你一定要看的书肯定应该包括下面几本：</p>

<ol>
  <li>JavaScript高级程序设计，第三版，Nicholas.C.Zakas</li>
  <li>JavaScript权威指南，第五版，犀牛书</li>
  <li>JavaScript语言精粹，修订版，蝴蝶书</li>
</ol>

<h3 id="section-3">声明</h3>

<p>面试题来源于：http://www.sitepoint.com/5-typical-javascript-interview-exercises/</p>
</article>
        </div>
    </div><!--#post-content-->

    <div id="ds-comment" class="container">
        <div class="ds-thread" data-thread-key="/posts/javascript-interview.html" data-title="5个经典的JavaScript面试题"></div>
        <script>
            var duoshuoQuery = {short_name:"wwsun"};  
            (function() {  
                var ds = document.createElement('script');  
                ds.type = 'text/javascript';
                ds.async = true;  
                ds.src = 'http://static.duoshuo.com/embed.js';  
                ds.charset = 'UTF-8';  
                (document.getElementsByTagName('head')[0]
                || document.getElementsByTagName('body')[0]).appendChild(ds);  
            })();
        </script>
    </div><!--#ds-comment-->

    <footer id="colophon" class="site-footer" role="contentinfo">
    <div class="site-info container">
        <div class="row">
            <nav id="menu-social" class="social-icons">
                <ul id="menu-social-items" class="social-menu">
                    <li><a href="https://github.com/wwsun" title="Github" class="rss" target="_blank"><i class="social_icon fa fa-github"><span>Github</span></i></a></li>
                    <li><a href="http://weibo.com/234170023" title="Weibo" class="youtube" target="_blank"><i class="social_icon fa fa-weibo"><span>Weibo</span></i></a></li>
                    <li><a href="https://twitter.com/wsun38" title="Twitter" class="twitter" target="_blank"><i class="social_icon fa fa-twitter"><span>Twitter</span></i></a></li>
                    <li><a href="https://plus.google.com/u/0/101153267739962807712/posts" title="Google+" class="googleplus" target="_blank"><i class="social_icon fa fa-googleplus"><span>GooglePlus</span></i></a></li>
                    <li><a href="/about.html#wechatQr" title="Wechat" class="facebook" target="_blank"><i class="fa fa-weixin"><span>Wechat</span></i></a></li>
                </ul>
            </nav>
            <nav role="navigation" class="col-md-6">
                <ul id="menu-flat-footer" class="nav footer-nav clearfix">
                    <li><a href="http://weibo.com/swwol">Weibo</a></li>
                    <li><a href="https://github.com/wwsun">Github</a></li>
                    <li><a href="http://www.zhihu.com/people/wwsun">Zhihu</a></li>
                    <li><a href="http://www.youtube.com/user/bootstrapbayofficial">Lofter</a></li>
                    <li><a href="http://wwsun.github.io/">Blog</a></li>
                </ul>
            </nav>
            <div class="copyright col-md-6">
                <a href="http://wwsun.github.io/" title="Sparkling">Weiwei SUN</a> All rights reserved. Theme by 
                <a href="http://colorlib.com/" target="_blank">Colorlib</a> Powered by
                <a href="https://pages.github.com/" target="_blank">Github Pages</a> and <a href="https://jekyllrb.com/" target="_blank">Jekyll</a>
            </div>
        </div>
    </div>
    <!-- .site-info -->
    <div class="scroll-to-top"><i class="fa fa-angle-up"></i></div>
    <!-- .scroll-to-top -->
</footer><!-- #colophon -->

<!-- Google Tag Manager -->
<noscript>
    <iframe src="//www.googletagmanager.com/ns.html?id=GTM-KJHNXB" height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>

<script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KJHNXB');
</script>
<!-- End Google Tag Manager -->

</body>

</html>