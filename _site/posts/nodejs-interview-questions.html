<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>10个常见的Node.js面试题</title>
    <meta name="description" content="">
    <!--<link rel="stylesheet" href="/assets/css/bootstrap.min.css">-->
    <!--<link rel="stylesheet" href="/assets/css/font-awesome.min.css">-->
    <link rel="icon" type="image/png" href="/favicon.ico">
    <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://fonts.useso.com/css?family=Roboto">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/syntax-highlight.css">
    
    <link rel="stylesheet" href="/assets/css/proj-layout.css">
    <script src="/assets/js/swiftype.js"></script>
    <!--<script src="/assets/js/jquery.js"></script>-->
    <!--<script src="/assets/js/modernizr.min.js"></script>-->
    <!--<script src="/assets/js/bootstrap.min.js"></script>-->
</head>

<body>
    <header>
    <nav class="navbar navbar-default" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <p class="site-name"><a class="navbar-brand" href="/" title="twolun">双轮行</a></p>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="/">HOME</a></li>
                    <li><a href="/about.html">About</a></li>
                    <li><a href="/project.html">Projects</a></li>
                    <li><a href="/list.html">Posts</a></li>
                    <li><a href="http://wwsun.lofter.com/" target="_blank">Lofter</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- .site-navigation -->
</header>
    <div id="post-content" class="container">
        <br>
        <div class="well">
            <header class="page-header">
                <h1>10个常见的Node.js面试题</h1>
                <p class="post-meta">Sep 28, 2015</p>
            </header>
            <article><p>如果你希望找一份有关Node.js的工作，但又不知道从哪里入手评测自己对Node.js的掌握程度。
本文就为你罗列了10个常见的Node.js面试题，分别考察了Node.js编程相关的几个主要方面。</p>

<!--more-->

<p>在进入正文之前，需要提前声明两点：</p>

<ol>
  <li>这些问题只是Node.js知识体系的一个局部，并不能完全考察被面试者的实际开发能力。</li>
  <li>对现实世界开发中遇到的问题，需要的是随机应变与团队合作，所以你可以尝试结对编程。</li>
</ol>

<h2 id="nodejs">Node.js面试题列表</h2>

<ul>
  <li>什么是错误优先的回调函数？</li>
  <li>如何避免回调地狱？</li>
  <li>如何用Node来监听80端口？</li>
  <li>什么是事件循环？</li>
  <li>哪些工具可以用来保证一致的编程风格？</li>
  <li>运算错误与程序员错误的区别？</li>
  <li>使用NPM有哪些好处？</li>
  <li>什么是stub？举个使用场景？</li>
  <li>什么是测试金字塔？对于HTTP API，如何利用测试金字塔？</li>
  <li>你最喜欢的HTTP框架，并说明原因？</li>
</ul>

<p>现在，我们依次来解答这些问题吧。</p>

<h3 id="section">什么是错误优先的回调函数？</h3>

<p>错误优先的回调函数用于传递错误和数据。第一个参数始终应该是一个错误对象，
用于检查程序是否发生了错误。其余的参数用于传递数据。例如：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>fs.readFile(filePath, function(err, data) {  
	if (err) {
		//handle the error
	}
	// use the data object
});
</code></pre>
</div>

<p><strong>解析：</strong>这个题目的主要作用在于检查被面试者对于Node中异步操作的一些基本知识的掌握。</p>

<h3 id="section-1">如何避免回调地狱</h3>

<p>你可以有如下几个方法：</p>

<ul>
  <li>模块化：将回调函数分割为独立的函数</li>
  <li>使用Promises</li>
  <li>使用<code class="highlighter-rouge">yield</code>来计算生成器或Promise</li>
</ul>

<p><strong>解析：</strong>这个问题有很多种答案，取决你使用的场景，例如ES6, ES7，或者一些控制流库。</p>

<h3 id="node80">如何用Node监听80端口</h3>

<p>这题有陷阱！在类Unix系统中你不应该尝试去监听80端口，因为这需要超级用户权限。
因此不推荐让你的应用直接监听这个端口。</p>

<p>目前，如果你一定要让你的应用监听80端口的话，你可以有通过在Node应用的前方再增加一层反向代理
（例如<a href="http://nginx.org/">nginx</a>）来实现，如下图所示。否则，建议你直接监听大于1024的端口。</p>

<p><img src="/img/posts/150928-reverse-proxy.PNG" alt="Reverse Proxy" /></p>

<blockquote>
  <p>方向代理指的是以代理服务器来接收Internet上的连接请求，然后将请求转发给内部网络上的服务器，
并且将服务器返回的结果发送给客户端。</p>
</blockquote>

<p>关于反向代理的更多内容，建议你阅读<a href="http://www.cnblogs.com/edisonchou/p/4126742.html">这篇文章</a>。
关于如何利用nginx来为node配置方向代理的实践，可以参考<a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-node-js-application-for-production-on-ubuntu-14-04">这篇博文</a>。</p>

<p><strong>解释：</strong>这个问题用于检查被面试者是否有实际运行Node应用的经验。</p>

<h3 id="section-2">什么是事件循环</h3>

<p>Node采用的是单线程的处理机制（所有的I/O请求都采用非阻塞的工作方式），至少从Node.js开发者的角度是这样的。
而在底层，Node.js借助<a href="https://github.com/libuv/libuv">libuv</a>来作为抽象封装层，
从而屏蔽不同操作系统的差异，Node可以借助livuv来来实现多线程。下图表示了Node和libuv的关系。</p>

<p><img src="/img/posts/150928-node-libuv.PNG" alt="node-libuv" /></p>

<p>Libuv库负责Node API的执行。它将不同的任务分配给不同的线程，形成一个事件循环，
以异步的方式将任务的执行结果返回给V8引擎。可以简单用下面这张图来表示。</p>

<p><img src="/img/posts/150928-event-loop.PNG" alt="Event Loop" />
（图片来源于网络）</p>

<p>每一个I/O都需要一个回调函数——一旦执行完便推到事件循环上用于执行。
如果你需要更多详细的解释，可以参考<a href="https://www.youtube.com/embed/8aGhZQkoFbQ">这个视频</a>。
你也可以参考<a href="http://www.ruanyifeng.com/blog/2014/10/event-loop.html">这篇文章</a>。</p>

<p><strong>解释：</strong>这用于检查Node.js的底层知识，例如什么是libuv，它的作用是什么。</p>

<h3 id="section-3">哪些工具可以用来保证一致性的代码风格</h3>

<p>你可以选择如下的工具：</p>

<ul>
  <li><a href="http://jslint.com/">JSLint</a></li>
  <li><a href="http://jshint.com/">JSHint</a></li>
  <li><a href="http://eslint.org/">ESLint</a></li>
  <li><a href="http://jscs.info/">JSCS</a> - 推荐</li>
</ul>

<p>在团队开发中，这些工具对于编写代码非常的有帮助，能够帮助团队开发者强制执行规定的风格指南，
还能够通过静态分析捕获常见的错误。</p>

<p><strong>解析：</strong>用于检查被面试者是否有大型项目开发经验。</p>

<h3 id="section-4">运算错误与程序员错误的区别</h3>

<p>运算错误并不是bug，这是和系统相关的问题，例如请求超时或者硬件故障。而程序员错误就是所谓的bug。</p>

<p><strong>解析：</strong>这个题目和Node关系并不大，用于考察面试者的基础知识。</p>

<h3 id="npm">使用NPM有哪些好处？</h3>

<p>通过NPM，你可以安装和管理项目的依赖，并且能够指明依赖项的具体版本号。
对于Node应用开发而言，你可以通过<code class="highlighter-rouge">package.json</code>文件来管理项目信息，配置脚本，
以及指明项目依赖的具体版本。</p>

<p>关于NPM的更多信息，你可以参考<a href="https://docs.npmjs.com/files/package.json">官方文档</a>。</p>

<p><strong>解析：</strong>它能考察面试者使用npm命令的基础知识和Node.js开发的实际经验。</p>

<h3 id="stub">什么是Stub？举个使用场景</h3>

<p>Stub是用于<strong>模拟</strong>一个组件或模块的函数或程序。在测试用例中，
简单的说，你可以用Stub去模拟一个方法，从而避免调用真实的方法，
使用Stub你还可以返回虚构的结果。你可以配合断言使用Stub。</p>

<p>举个例子，在一个读取文件的场景中，当你不想读取一个真正的文件时：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var fs = require('fs');

var readFileStub = sinon.stub(fs, 'readFile', function (path, cb) {  
	return cb(null, 'filecontent');
});

expect(readFileStub).to.be.called;  
readFileStub.restore(); 
</code></pre>
</div>

<blockquote>
  <p>在单元测试中：Stub是完全模拟一个外部依赖，而Mock常用来判断测试通过还是失败。</p>
</blockquote>

<p>有关Node.js的单元测试小结，你可以参考<a href="http://segmentfault.com/a/1190000002921481">这个链接</a>。</p>

<p><strong>解析：</strong>用于测试被面试者是否有测试的经验。如果被面试者知道什么是Stub，
那么可以继续问他是如何做单元测试的。</p>

<h3 id="section-5">什么是测试金字塔？</h3>

<p><a href="http://zyzhang.github.io/blog/2013/04/28/test-pyramid/">测试金字塔</a>指的是：
当我们在编写测试用例时，底层的单元测试应该远比上层的端到端测试要多。</p>

<p><img src="/img/posts/150928-test-pyramid.jpeg" alt="Test Pyramid" /></p>

<p>当我们谈到HTTP API时，我们可能会涉及到：</p>

<ul>
  <li>有很多针对模型的底层单元测试</li>
  <li>但你需要测试模型间如何交互时，需要减少集成测试</li>
</ul>

<p><strong>解析：</strong>本文主要考察被面试者的在测试方面的经验。</p>

<h3 id="http">你最喜欢的HTTP框架以及原因</h3>

<p>这题没有唯一的答案。本题主要考察被面试者对于他所使用的Node框架的理解程度，
考察他是否能够给出选择该框架的理由，优缺点等。常用的HTTP框架你可以参考<a href="http://nodeframework.com/index.html">这个网站</a>。</p>

<h2 id="statement">Statement</h2>

<blockquote>
  <p>原文地址：https://blog.risingstack.com/node-js-interview-questions/</p>
</blockquote>

<h2 id="references">References</h2>

<ol>
  <li>http://zyzhang.github.io/blog/2013/04/28/test-pyramid/</li>
  <li>http://www.ruanyifeng.com/blog/2014/10/event-loop.html</li>
  <li>http://segmentfault.com/a/1190000002921481</li>
</ol>
</article>
        </div>
    </div><!--#post-content-->

    <div id="ds-comment" class="container">
        <div class="ds-thread" data-thread-key="/posts/nodejs-interview-questions.html" data-title="10个常见的Node.js面试题"></div>
        <script>
            var duoshuoQuery = {short_name:"wwsun"};  
            (function() {  
                var ds = document.createElement('script');  
                ds.type = 'text/javascript';
                ds.async = true;  
                ds.src = 'http://static.duoshuo.com/embed.js';  
                ds.charset = 'UTF-8';  
                (document.getElementsByTagName('head')[0]
                || document.getElementsByTagName('body')[0]).appendChild(ds);  
            })();
        </script>
    </div><!--#ds-comment-->

    <footer id="colophon" class="site-footer" role="contentinfo">
    <div class="site-info container">
        <div class="row">
            <nav id="menu-social" class="social-icons">
                <ul id="menu-social-items" class="social-menu">
                    <li><a href="https://github.com/wwsun" title="Github" class="rss" target="_blank"><i class="social_icon fa fa-github"><span>Github</span></i></a></li>
                    <li><a href="http://weibo.com/234170023" title="Weibo" class="youtube" target="_blank"><i class="social_icon fa fa-weibo"><span>Weibo</span></i></a></li>
                    <li><a href="https://twitter.com/wsun38" title="Twitter" class="twitter" target="_blank"><i class="social_icon fa fa-twitter"><span>Twitter</span></i></a></li>
                    <li><a href="https://plus.google.com/u/0/101153267739962807712/posts" title="Google+" class="googleplus" target="_blank"><i class="social_icon fa fa-googleplus"><span>GooglePlus</span></i></a></li>
                    <li><a href="/about.html#wechatQr" title="Wechat" class="facebook" target="_blank"><i class="fa fa-weixin"><span>Wechat</span></i></a></li>
                </ul>
            </nav>
            <nav role="navigation" class="col-md-6">
                <ul id="menu-flat-footer" class="nav footer-nav clearfix">
                    <li><a href="http://weibo.com/swwol">Weibo</a></li>
                    <li><a href="https://github.com/wwsun">Github</a></li>
                    <li><a href="http://www.zhihu.com/people/wwsun">Zhihu</a></li>
                    <li><a href="http://www.youtube.com/user/bootstrapbayofficial">Lofter</a></li>
                    <li><a href="http://wwsun.github.io/">Blog</a></li>
                </ul>
            </nav>
            <div class="copyright col-md-6">
                <a href="http://wwsun.github.io/" title="Sparkling">Weiwei SUN</a> All rights reserved. Theme by 
                <a href="http://colorlib.com/" target="_blank">Colorlib</a> Powered by
                <a href="https://pages.github.com/" target="_blank">Github Pages</a> and <a href="https://jekyllrb.com/" target="_blank">Jekyll</a>
            </div>
        </div>
    </div>
    <!-- .site-info -->
    <div class="scroll-to-top"><i class="fa fa-angle-up"></i></div>
    <!-- .scroll-to-top -->
</footer><!-- #colophon -->



</body>

</html>