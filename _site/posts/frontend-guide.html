<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Web前端编程规范</title>
    <meta name="description" content="">
    <!--<link rel="stylesheet" href="/assets/css/bootstrap.min.css">-->
    <!--<link rel="stylesheet" href="/assets/css/font-awesome.min.css">-->
    <link rel="icon" type="image/png" href="/favicon.ico">
    <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://fonts.useso.com/css?family=Roboto">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/syntax-highlight.css">
    
    <link rel="stylesheet" href="/assets/css/proj-layout.css">
    <script src="/assets/js/swiftype.js"></script>
    <!--<script src="/assets/js/jquery.js"></script>-->
    <!--<script src="/assets/js/modernizr.min.js"></script>-->
    <!--<script src="/assets/js/bootstrap.min.js"></script>-->
</head>

<body>
    <header>
    <nav class="navbar navbar-default" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <p class="site-name"><a class="navbar-brand" href="/" title="twolun">双轮行</a></p>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="/">HOME</a></li>
                    <li><a href="/about.html">About</a></li>
                    <li><a href="/project.html">Projects</a></li>
                    <li><a href="/list.html">Posts</a></li>
                    <li><a href="http://wwsun.lofter.com/" target="_blank">Lofter</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- .site-navigation -->
</header>
    <div id="post-content" class="container">
        <br>
        <div class="well">
            <header class="page-header">
                <h1>Web前端编程规范</h1>
                <p class="post-meta">Mar 3, 2015</p>
            </header>
            <article><p>本文是关于HTML，CSS和JS的一些推荐实践方式。本文通过从语义、性能、代码复用等多方面总结了HTML, CSS和JS前端技术的最佳实践。</p>

<!--more-->

<ul>
  <li>原文地址：https://github.com/bendc/frontend-guidelines</li>
  <li>推荐阅读：http://materliu.github.io/code-guide/</li>
</ul>

<h2 id="html">HTML</h2>

<h3 id="semantics-">Semantics 语义化</h3>

<p>HTML5为我们提供了大量的语义元素用来更准确的描述内容。你可以借助这些丰富的语义化的元素来组织你的网站：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;!-- bad --&gt;
&lt;div id="main"&gt;
  &lt;div class="article"&gt;
    &lt;div class="header"&gt;
      &lt;h1&gt;Blog post&lt;/h1&gt;
      &lt;p&gt;Published: &lt;span&gt;21st Feb, 2015&lt;/span&gt;&lt;/p&gt;
    &lt;/div&gt;
    &lt;p&gt;…&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;!-- good --&gt;
&lt;main&gt;
  &lt;article&gt;
    &lt;header&gt;
      &lt;h1&gt;Blog post&lt;/h1&gt;
      &lt;p&gt;Published: &lt;time datetime="2015-02-21"&gt;21st Feb, 2015&lt;/time&gt;&lt;/p&gt;
    &lt;/header&gt;
    &lt;p&gt;…&lt;/p&gt;
  &lt;/article&gt;
&lt;/main&gt;
</code></pre>
</div>

<p>Make sure you understand the semantic of the elements you’re using. It’s worse to use a semantic element in a wrong way than staying neutral.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;!-- bad --&gt;
&lt;h1&gt;
  &lt;figure&gt;
    &lt;img alt=Company src=logo.png&gt;
  &lt;/figure&gt;
&lt;/h1&gt;

&lt;!-- good --&gt;
&lt;h1&gt;
  &lt;img alt=Company src=logo.png&gt;
&lt;/h1&gt;
</code></pre>
</div>

<h3 id="brevity-">Brevity 简洁</h3>

<p>遵循HTML5新的代码规则，忘记XHTML中那些繁杂的习惯。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!-- bad --&gt;</span>
<span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">en</span><span class="nt">&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">Content-Type</span> <span class="na">content=</span><span class="s">"text/html; charset=utf-8"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;title&gt;</span>Contact<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">stylesheet</span> <span class="na">href=</span><span class="s">style.css</span> <span class="na">type=</span><span class="s">text/css</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;h1&gt;</span>Contact me<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;label&gt;</span>
      Email address:
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">email</span> <span class="na">placeholder=</span><span class="s">you@email.com</span> <span class="na">required=</span><span class="s">required</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">main.js</span> <span class="na">type=</span><span class="s">text/javascript</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

<span class="c">&lt;!-- good --&gt;</span>
<span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">en</span><span class="nt">&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">utf-8</span><span class="nt">&gt;</span>
  <span class="nt">&lt;title&gt;</span>Contact<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">stylesheet</span> <span class="na">href=</span><span class="s">style.css</span><span class="nt">&gt;</span>

  <span class="nt">&lt;h1&gt;</span>Contact me<span class="nt">&lt;/h1&gt;</span>
  <span class="nt">&lt;label&gt;</span>
    Email address:
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">email</span> <span class="na">placeholder=</span><span class="s">you@email.com</span> <span class="na">required</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">main.js</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h3 id="accessibility-">Accessibility 可访问性</h3>

<p>Accessibility shouldn’t be an afterthought. You don’t have to be a WCAG expert to improve your
website, you can start immediately by fixing the little things that make a huge difference, such as:</p>

<ul>
  <li>learning to use the <code class="highlighter-rouge">alt</code> attribute properly</li>
  <li>making sure your links and buttons are marked as such (no <code class="highlighter-rouge">&lt;div class=button&gt;</code> atrocities)</li>
  <li>not relying exclusively on colors to communicate information</li>
  <li>
    <p>explicitly labelling form controls</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  &lt;!-- bad --&gt;
  &lt;h1&gt;&lt;img alt="Logo" src="logo.png"&gt;&lt;/h1&gt;
	
  &lt;!-- good --&gt;
  &lt;h1&gt;&lt;img alt="My Company, Inc." src="logo.png"&gt;&lt;/h1&gt;
</code></pre>
    </div>
  </li>
</ul>

<h3 id="language-">Language 语言</h3>

<p>虽然定义语言和字符编码方式是可选的，但还是推荐你始终在文档级别声明它们。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!-- bad --&gt;</span>
<span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;title&gt;</span>Hello, world.<span class="nt">&lt;/title&gt;</span>

<span class="c">&lt;!-- good --&gt;</span>
<span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">en</span><span class="nt">&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">utf-8</span><span class="nt">&gt;</span>
  <span class="nt">&lt;title&gt;</span>Hello, world.<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h3 id="performance-">Performance 性能</h3>

<p>先文档后脚本，尽量不要把脚本代码放在顶部。</p>

<p>Unless there’s a valid reason for loading your scripts before your content, don’t block the
rendering of your page. If your style sheet is heavy, isolate the styles that are absolutely
required initially and defer the loading of the secondary declarations in a separate style sheet.</p>

<p>Two HTTP requests is significantly slower than one, but the perception of speed is the most
important factor.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;!-- bad --&gt;
&lt;!doctype html&gt;
&lt;meta charset=utf-8&gt;
&lt;script src=analytics.js&gt;&lt;/script&gt;
&lt;title&gt;Hello, world.&lt;/title&gt;
&lt;p&gt;...&lt;/p&gt;

&lt;!-- good --&gt;
&lt;!doctype html&gt;
&lt;meta charset=utf-8&gt;
&lt;title&gt;Hello, world.&lt;/title&gt;
&lt;p&gt;...&lt;/p&gt;
&lt;script src=analytics.js&gt;&lt;/script&gt;
</code></pre>
</div>

<h2 id="css">CSS</h2>

<h3 id="semicolons-">Semicolons 始终用分号作为结束符</h3>

<p>While the semicolon is technically a separator in CSS, always treat it as a terminator.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
div {
  color: red
}

/* good */
div {
  color: red;
}
</code></pre>
</div>

<h3 id="box-model-">Box model 盒模型</h3>

<p>The box model should ideally be the same for the entire document. A global
<code class="highlighter-rouge">* { box-sizing: border-box; }</code> is fine, but don’t change the default box model
on specific elements if you can avoid it.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
div {
  width: 100%;
  padding: 10px;
  box-sizing: border-box;
}

/* good */
div {
  padding: 10px;
}
</code></pre>
</div>

<h3 id="flow-">Flow 流</h3>

<p>Don’t change the default behavior of an element if you can avoid it. Keep elements in the
natural document flow as much as you can. For example, removing the white-space below an
image shouldn’t make you change its default display:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
img {
  display: block;
}

/* good */
img {
  vertical-align: middle;
}
</code></pre>
</div>

<p>Similarly, don’t take an element off the flow if you can avoid it.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
div {
  width: 100px;
  position: absolute;
  right: 0;
}

/* good */
div {
  width: 100px;
  margin-left: auto;
}
</code></pre>
</div>

<h3 id="positioning-">Positioning 定位方式</h3>

<p>There are many ways to position elements in CSS but try to restrict yourself to the
properties/values below. By order of preference:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>display: block;
display: flex;
position: relative;
position: sticky;
position: absolute;
position: fixed;
</code></pre>
</div>

<h3 id="selectors-">Selectors 选择器</h3>

<p>Minimize selectors tightly coupled to the DOM. Consider adding a class to the elements
you want to match when your selector exceeds 3 structural pseudo-classes, descendant or
sibling combinators.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
div:first-of-type :last-child &gt; p ~ *

/* good */
div:first-of-type .info
</code></pre>
</div>

<p>Avoid overloading your selectors when you don’t need to.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
img[src$=svg], ul &gt; li:first-child {
  opacity: 0;
}

/* good */
[src$=svg], ul &gt; :first-child {
  opacity: 0;
}
</code></pre>
</div>

<h3 id="specificity">Specificity</h3>

<p>Don’t make values and selectors hard to override. Minimize the use of <code class="highlighter-rouge">id</code>’s
and avoid <code class="highlighter-rouge">!important</code>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
.bar {
  color: green !important;
}
.foo {
  color: red;
}

/* good */
.foo.bar {
  color: green;
}
.foo {
  color: red;
}
</code></pre>
</div>

<h3 id="overriding-">Overriding 覆盖</h3>

<p>Overriding styles makes selectors and debugging harder. Avoid it when possible.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
li {
  visibility: hidden;
}
li:first-child {
  visibility: visible;
}

/* good */
li + li {
  visibility: hidden;
}
</code></pre>
</div>

<h3 id="inheritance-">Inheritance 继承</h3>

<p>Don’t duplicate style declarations that can be inherited.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
div h1, div p {
  text-shadow: 0 1px 0 #fff;
}

/* good */
div {
  text-shadow: 0 1px 0 #fff;
}
</code></pre>
</div>

<h3 id="brevity--1">Brevity 代码简写</h3>

<p>Keep your code terse. Use shorthand properties and avoid using multiple properties when
it’s not needed.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
div {
  transition: all 1s;
  top: 50%;
  margin-top: -10px;
  padding-top: 5px;
  padding-right: 10px;
  padding-bottom: 20px;
  padding-left: 10px;
}

/* good */
div {
  transition: 1s;
  top: calc(50% - 10px);
  padding: 5px 10px 20px;
}
</code></pre>
</div>

<h3 id="language--1">Language 语言</h3>

<p>使用单词而不是数学表达式。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
:nth-child(2n + 1) {
  transform: rotate(360deg);
}

/* good */
:nth-child(odd) {
  transform: rotate(1turn);
}
</code></pre>
</div>

<h3 id="vendor-prefixes-">Vendor prefixes 厂商前缀</h3>

<p>Kill obsolete vendor prefixes aggressively. If you need to use them, insert them before the
standard property.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
div {
  transform: scale(2);
  -webkit-transform: scale(2);
  -moz-transform: scale(2);
  -ms-transform: scale(2);
  transition: 1s;
  -webkit-transition: 1s;
  -moz-transition: 1s;
  -ms-transition: 1s;
}

/* good */
div {
  -webkit-transform: scale(2);
  transform: scale(2);
  transition: 1s;
}
</code></pre>
</div>

<h3 id="animations-">Animations 动画</h3>

<p>Favor transitions over animations. Avoid animating other properties than
<code class="highlighter-rouge">opacity</code> and <code class="highlighter-rouge">transform</code>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
div:hover {
  animation: move 1s forwards;
}
@keyframes move {
  100% {
    margin-left: 100px;
  }
}

/* good */
div:hover {
  transition: 1s;
  transform: translateX(100px);
}
</code></pre>
</div>

<h3 id="units-">Units 单位</h3>

<p>Use unitless values when you can. Favor <code class="highlighter-rouge">rem</code> if you use relative units. Prefer seconds over
milliseconds.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
div {
  margin: 0px;
  font-size: .9em;
  line-height: 22px;
  transition: 500ms;
}

/* good */
div {
  margin: 0;
  font-size: .9rem;
  line-height: 1.5;
  transition: .5s;
}
</code></pre>
</div>

<h3 id="colors-16">Colors 使用16进制颜色</h3>

<p>If you need transparency, use <code class="highlighter-rouge">rgba</code>. Otherwise, always use the hexadecimal format.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
div {
  color: hsl(103, 54%, 43%);
}

/* good */
div {
  color: #5a3;
}
</code></pre>
</div>

<h3 id="drawing-">Drawing 绘图</h3>

<p>Avoid HTTP requests when the resources are easily replicable with CSS.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
div::before {
  content: url(white-circle.svg);
}

/* good */
div::before {
  content: "";
  display: block;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #fff;
}
</code></pre>
</div>

<h3 id="hacks">Hacks</h3>

<p>Don’t use them.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* bad */
div {
  // position: relative;
  transform: translateZ(0);
}

/* good */
div {
  /* position: relative; */
  will-change: transform;
}
</code></pre>
</div>

<h2 id="javascript">JavaScript</h2>

<h3 id="performance--1">Performance 性能</h3>

<p>Favor readability, correctness and expressiveness over performance. JavaScript will basically never be your performance bottleneck. Optimize things like image compression, network access and DOM reflows instead. If you remember just one guideline from this document, choose this one.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad (albeit way faster)
const arr = [1, 2, 3, 4];
const len = arr.length;
var i = -1;
var result = [];
while (++i &lt; len) {
  var n = arr[i];
  if (n % 2 &gt; 0) continue;
  result.push(n * n);
}

// good
const arr = [1, 2, 3, 4];
const isEven = n =&gt; n % 2 == 0;
const square = n =&gt; n * n;

const result = arr.filter(isEven).map(square);
</code></pre>
</div>

<h3 id="statelessness">Statelessness</h3>

<p>努力让你的函数更加纯净。所有的函数都应该是没有边际效应的，不要使用外部数据，返回新的对象。</p>

<p>Try to keep your functions pure. All functions should ideally produce no side-effects, use no outside data and return new objects instead of mutating existing ones.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
const merge = (target, ...sources) =&gt; Object.assign(target, ...sources);
merge({ foo: "foo" }, { bar: "bar" }); // =&gt; { foo: "foo", bar: "bar" }

// good
const merge = (...sources) =&gt; Object.assign({}, ...sources);
merge({ foo: "foo" }, { bar: "bar" }); // =&gt; { foo: "foo", bar: "bar" }
</code></pre>
</div>

<h3 id="natives">Natives</h3>

<p>尽可能使用原生的方法。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
const toArray = obj =&gt; [].slice.call(obj);

// good
const toArray = (() =&gt;
  Array.from ? Array.from : obj =&gt; [].slice.call(obj)
)();
</code></pre>
</div>

<h3 id="coercion">Coercion</h3>

<p>Embrace implicit coercion when it makes sense. Avoid it otherwise. Don’t cargo-cult.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
if (x === undefined || x === null) { ... }

// good
if (x == undefined) { ... }
</code></pre>
</div>

<h3 id="loops-">Loops 循环</h3>

<p>Don’t use loops as they force you to use mutable objects. Rely on <code class="highlighter-rouge">array.prototype</code> methods.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
const sum = arr =&gt; {
  var sum = 0;
  var i = -1;
  for (;arr[++i];) {
    sum += arr[i];
  }
  return sum;
};

sum([1, 2, 3]); // =&gt; 6

// good
const sum = arr =&gt;
  arr.reduce((x, y) =&gt; x + y);

sum([1, 2, 3]); // =&gt; 6
</code></pre>
</div>

<p>If you can’t, or if using <code class="highlighter-rouge">array.prototype</code> methods is arguably abusive, use recursion.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
const createDivs = howMany =&gt; {
  while (howMany--) {
    document.body.insertAdjacentHTML("beforeend", "&lt;div&gt;&lt;/div&gt;");
  }
};
createDivs(5);

// bad
const createDivs = howMany =&gt;
  [...Array(howMany)].forEach(() =&gt;
    document.body.insertAdjacentHTML("beforeend", "&lt;div&gt;&lt;/div&gt;")
  );
createDivs(5);

// good
const createDivs = howMany =&gt; {
  if (!howMany) return;
  document.body.insertAdjacentHTML("beforeend", "&lt;div&gt;&lt;/div&gt;");
  return createDivs(howMany - 1);
};
createDivs(5);
</code></pre>
</div>

<h3 id="arguments-">Arguments 参数</h3>

<p>Forget about the <code class="highlighter-rouge">arguments</code> object. The rest parameter is always a better option because:</p>

<ol>
  <li>it’s named, so it gives you a better idea of the arguments the function is expecting</li>
  <li>
    <p>it’s a real array, which makes it easier to use.</p>

    <p>// bad
 const sortNumbers = () =&gt;
   Array.prototype.slice.call(arguments).sort();</p>

    <p>// good
 const sortNumbers = (…numbers) =&gt; numbers.sort();</p>
  </li>
</ol>

<h3 id="apply-apply">Apply 忘记Apply</h3>

<p>Forget about <code class="highlighter-rouge">apply()</code>. Use the spread operator instead.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>const greet = (first, last) =&gt; `Hi ${first} ${last}`;
const person = ["John", "Doe"];

// bad
greet.apply(null, person);

// good
greet(...person);
</code></pre>
</div>

<h3 id="bind-">Bind 绑定</h3>

<p>Don’t <code class="highlighter-rouge">bind()</code> when there’s a more idiomatic approach.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
["foo", "bar"].forEach(func.bind(this));

// good
["foo", "bar"].forEach(func, this);


// bad
const person = {
  first: "John",
  last: "Doe",
  greet() {
    const full = function() {
      return `${this.first} ${this.last}`;
    }.bind(this);
    return `Hello ${full()}`;
  }
}

// good
const person = {
  first: "John",
  last: "Doe",
  greet() {
    const full = () =&gt; `${this.first} ${this.last}`;
    return `Hello ${full()}`;
  }
}
</code></pre>
</div>

<h3 id="higher-order-functions-">Higher-order functions 高阶函数</h3>

<p>当你没必要使用嵌套函数的时候一定不要使用。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
[1, 2, 3].map(num =&gt; String(num));

// good
[1, 2, 3].map(String);
</code></pre>
</div>

<h3 id="composition">Composition</h3>

<p>Avoid multiple nested function calls. Use composition instead.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>const plus1 = a =&gt; a + 1;
const mult2 = a =&gt; a * 2;

// bad
mult2(plus1(5)); // =&gt; 12

// good
const pipeline = (...funcs) =&gt; val =&gt; funcs.reduce((a, b) =&gt; b(a), val);
const addThenMult = pipeline(plus1, mult2);
addThenMult(5); // =&gt; 12
</code></pre>
</div>

<h3 id="caching-">Caching 缓存</h3>

<p>Cache feature tests, large data structures and any expensive operation.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
const contains = (arr, value) =&gt;
  Array.prototype.includes
    ? arr.includes(value)
    : arr.some(el =&gt; el === value);
contains(["foo", "bar"], "baz"); // =&gt; false

// good
const contains = (() =&gt;
  Array.prototype.includes
    ? (arr, value) =&gt; arr.includes(value)
    : (arr, value) =&gt; arr.some(el =&gt; el === value)
)();
contains(["foo", "bar"], "baz"); // =&gt; false
</code></pre>
</div>

<h3 id="variables-">Variables 变量</h3>

<p>Favor <code class="highlighter-rouge">const</code> over <code class="highlighter-rouge">let</code> and <code class="highlighter-rouge">let</code> over <code class="highlighter-rouge">var</code>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
var obj = {};
obj["foo" + "bar"] = "baz";

// good
const obj = {
  ["foo" + "bar"]: "baz"
};
</code></pre>
</div>

<h3 id="conditions-">Conditions 条件</h3>

<p>Favor IIFE’s and return statements over if, else if, else and switch statements.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
var grade;
if (result &lt; 50)
  grade = "bad";
else if (result &lt; 90)
  grade = "good";
else
  grade = "excellent";

// good
const grade = (() =&gt; {
  if (result &lt; 50)
    return "bad";
  if (result &lt; 90)
    return "good";
  return "excellent";
})();
</code></pre>
</div>

<h3 id="object-iteration-">Object iteration 对象迭代</h3>

<p>尽量避免使用 <code class="highlighter-rouge">for...in</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>const shared = { foo: "foo" };
const obj = Object.create(shared, {
  bar: {
    value: "bar",
    enumerable: true
  }
});

// bad
for (var prop in obj) {
  if (obj.hasOwnProperty(prop))
    console.log(prop);
}

// good
Object.keys(obj).forEach(prop =&gt; console.log(prop));
</code></pre>
</div>

<h3 id="objects-as-maps">Objects as Maps</h3>

<p>While objects have legitimate use cases, maps are usually a better, more powerful choice. When in doubt, use a <code class="highlighter-rouge">Map</code>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
const me = {
  name: "Ben",
  age: 30
};
var meSize = Object.keys(me).length;
meSize; // =&gt; 2
me.country = "Belgium";
meSize++;
meSize; // =&gt; 3

// good
const me = Map();
me.set("name", "Ben");
me.set("age", 30);
me.size; // =&gt; 2
me.set("country", "Belgium");
me.size; // =&gt; 3
</code></pre>
</div>

<h3 id="curry">Curry</h3>

<p>Currying might have its place in other languages, but avoid it in JavaScript. It makes your code harder to read by introducing a foreign paradigm while the appropriate use cases are extremely unusual.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
const sum = a =&gt; b =&gt; a + b;
sum(5)(3); // =&gt; 8

// good
const sum = (a, b) =&gt; a + b;
sum(5, 3); // =&gt; 8
</code></pre>
</div>

<h3 id="readability-">Readability 可读性</h3>

<p>Don’t obfuscate the intent of your code by using seemingly smart tricks.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
foo || doSomething();

// good
if (!foo) doSomething();
```
```javascript
// bad
void function() { /* IIFE */ }();

// good
(function() { /* IIFE */ }());
```
```javascript
// bad
const n = ~~3.14;

// good
const n = Math.floor(3.14);
</code></pre>
</div>

<h3 id="code-reuse-">Code reuse 代码重用</h3>

<p>Don’t be afraid of creating lots of small, highly composable and reusable functions.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
arr[arr.length - 1];

// good
const first = arr =&gt; arr[0];
const last = arr =&gt; first(arr.slice(-1));
last(arr);
```
```javascript
// bad
const product = (a, b) =&gt; a * b;
const triple = n =&gt; n * 3;

// good
const product = (a, b) =&gt; a * b;
const triple = product.bind(null, 3);
</code></pre>
</div>

<h3 id="dependencies-">Dependencies 最小化依赖</h3>

<p>Minimize dependencies. Third-party is code you don’t know. Don’t load an entire library for just a couple of methods easily replicable:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// bad
var _ = require("underscore");
_.compact(["foo", 0]));
_.unique(["foo", "foo"]);
_.union(["foo"], ["bar"], ["foo"]);

// good
const compact = arr =&gt; arr.filter(el =&gt; el);
const unique = arr =&gt; [...Set(arr)];
const union = (...arr) =&gt; unique([].concat(...arr));

compact(["foo", 0]);
unique(["foo", "foo"]);
union(["foo"], ["bar"], ["foo"]);
</code></pre>
</div>

<h2 id="other-resources">Other resources</h2>

<ol>
  <li>前端代码规范及最佳实践： http://coderlmn.github.io/code-standards/</li>
  <li>前端代码规范： http://materliu.github.io/code-guide/</li>
</ol>
</article>
        </div>
    </div><!--#post-content-->

    <div id="ds-comment" class="container">
        <div class="ds-thread" data-thread-key="/posts/frontend-guide.html" data-title="Web前端编程规范"></div>
        <script>
            var duoshuoQuery = {short_name:"wwsun"};  
            (function() {  
                var ds = document.createElement('script');  
                ds.type = 'text/javascript';
                ds.async = true;  
                ds.src = 'http://static.duoshuo.com/embed.js';  
                ds.charset = 'UTF-8';  
                (document.getElementsByTagName('head')[0]
                || document.getElementsByTagName('body')[0]).appendChild(ds);  
            })();
        </script>
    </div><!--#ds-comment-->

    <footer id="colophon" class="site-footer" role="contentinfo">
    <div class="site-info container">
        <div class="row">
            <nav id="menu-social" class="social-icons">
                <ul id="menu-social-items" class="social-menu">
                    <li><a href="https://github.com/wwsun" title="Github" class="rss" target="_blank"><i class="social_icon fa fa-github"><span>Github</span></i></a></li>
                    <li><a href="http://weibo.com/234170023" title="Weibo" class="youtube" target="_blank"><i class="social_icon fa fa-weibo"><span>Weibo</span></i></a></li>
                    <li><a href="https://twitter.com/wsun38" title="Twitter" class="twitter" target="_blank"><i class="social_icon fa fa-twitter"><span>Twitter</span></i></a></li>
                    <li><a href="https://plus.google.com/u/0/101153267739962807712/posts" title="Google+" class="googleplus" target="_blank"><i class="social_icon fa fa-googleplus"><span>GooglePlus</span></i></a></li>
                    <li><a href="/about.html#wechatQr" title="Wechat" class="facebook" target="_blank"><i class="fa fa-weixin"><span>Wechat</span></i></a></li>
                </ul>
            </nav>
            <nav role="navigation" class="col-md-6">
                <ul id="menu-flat-footer" class="nav footer-nav clearfix">
                    <li><a href="http://weibo.com/swwol">Weibo</a></li>
                    <li><a href="https://github.com/wwsun">Github</a></li>
                    <li><a href="http://www.zhihu.com/people/wwsun">Zhihu</a></li>
                    <li><a href="http://www.youtube.com/user/bootstrapbayofficial">Lofter</a></li>
                    <li><a href="http://wwsun.github.io/">Blog</a></li>
                </ul>
            </nav>
            <div class="copyright col-md-6">
                <a href="http://wwsun.github.io/" title="Sparkling">Weiwei SUN</a> All rights reserved. Theme by 
                <a href="http://colorlib.com/" target="_blank">Colorlib</a> Powered by
                <a href="https://pages.github.com/" target="_blank">Github Pages</a> and <a href="https://jekyllrb.com/" target="_blank">Jekyll</a>
            </div>
        </div>
    </div>
    <!-- .site-info -->
    <div class="scroll-to-top"><i class="fa fa-angle-up"></i></div>
    <!-- .scroll-to-top -->
</footer><!-- #colophon -->

<!-- Google Tag Manager -->
<noscript>
    <iframe src="//www.googletagmanager.com/ns.html?id=GTM-KJHNXB" height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>

<script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KJHNXB');
</script>
<!-- End Google Tag Manager -->

</body>

</html>