var mime={"json":"application/json"};var selectedHandler;var bytesHandler;var thisRef;var MAX_HEIGHT=300;function selectFile(selectedFunc,thisValue){selectedHandler=selectedFunc;thisRef=thisValue;var fileInput=document.getElementById("fileInput");if(fileInput==null){fileInput=document.createElement("input");fileInput.id="fileInput";fileInput.type="file";fileInput.accept="application/json";fileInput.style.height="0px";fileInput.style.display="block";fileInput.style.overflow="hidden";document.body.insertBefore(fileInput,document.body.firstChild);fileInput.addEventListener("change",tmpSelectFile,false)}setTimeout(function(){fileInput.click()},100)}function tmpSelectFile(evt){var file=evt.target.files[0];var type=file.type;if(!type){type=mime[file.name.match(/\.([^\.]+)$/i)[1]]}var ret=myCreateObjectURL(file);var fileInput=document.getElementById("fileInput");fileInput.value="";selectedHandler&selectedHandler(thisRef,ret,file)}function myCreateObjectURL(blob){if(window.URL!=undefined){return window["URL"]["createObjectURL"](blob)}else{return window["webkitURL"]["createObjectURL"](blob)}}function myResolveObjectURL(blob){if(window.URL!=undefined){window["URL"]["revokeObjectURL"](blob)}else{window["webkitURL"]["revokeObjectURL"](blob)}}function doSave(value,type,name){var blob;if(typeof window.Blob=="function"){blob=new Blob([value],{type:type})}else{var BlobBuilder=window.BlobBuilder||window.MozBlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder;var bb=new BlobBuilder();bb.append(value);blob=bb.getBlob(type)}var URL=window.URL||window.webkitURL;var bloburl=URL.createObjectURL(blob);var anchor=document.createElement("a");if("download" in anchor){anchor.style.visibility="hidden";anchor.href=bloburl;anchor.download=name;document.body.appendChild(anchor);var evt=document.createEvent("MouseEvents");evt.initEvent("click",true,true);anchor.dispatchEvent(evt);document.body.removeChild(anchor)}else{if(navigator.msSaveBlob){navigator.msSaveBlob(blob,name)}else{location.href=bloburl}}};